<ul *ngIf="tree" class="tree">
  <li>
    <div (contextmenu)="showMenu($event)" [nodeDraggable]="element" [tree]="tree">
      <div class="folding" (click)="switchFolding($event, tree)" [ngClass]="foldingType(tree)"></div>
      <div href="#" class="node-value" *ngIf="!isEditInProgress()">{{tree.value}}</div>
      <input type="text" class="node-value" [nodeEditable]="tree.value" (valueChanged)="applyNewValue($event, tree)"
             *ngIf="isEditInProgress()"/>
    </div>

    <node-menu *ngIf="isMenuVisible" (menuItemSelected)="onMenuItemSelected($event)"></node-menu>

    <template [ngIf]="isNodeExpanded()">
      <tree *ngFor="let child of tree.children; let position = index" [parentTree]="tree"
            [indexInParent]="position" [model]="child" (nodeRemoved)="onChildRemoved($event)"></tree>
    </template>
  </li>
</ul>
